### Q1. TerraformでECSタスクを管理すると何が辛いですか？
### A.
タスク定義のDockerイメージのタグを更新したいだけなのに、terraform applyにより他のインフラレイヤーにも影響が出る可能性がありエラーリスクが高い。

### Q2. TerraformでECSを管理する場合、GitHub Actionsのデプロイフローにはおもに2通りのやり方がありますが、それぞれのつらみを具体的に書いてください。
方法:
terraform applyで更新パターン
GitHub Actionsでタスク定義を更新するパターン
### A.
1.は既存のタスク定義をDLしてタグを書き換えて更新するやり方。この方法の問題点は以下の通り。
- タスク定義がTerraform外で管理され、terraform planをするとローカルのtfファイルを正として、古いタグに戻すように差分が出る
- lifecycle ignore_changesで差分を回避しても、毎回更新コストがかかるし、ECSは中途半端なTerraform管理となる

2.はタスク定義のタグをlatestにするやり方。この方法の問題点は以下の通り。
- latestタグはバージョン管理の問題（バージョンがどのgitコミットと対応しているか不明）やインシデントリスク（latestタグはキャッシュを持ち、そのキャッシュに対応する古いイメージを削除するとECSが立ち上がらない）がある

### Q3. ecspressoで管理するとなぜ上記のつらみを解決できるのか教えてください。
ヒント: SSMパラメータストアの値が同期されるタイミング
### A.
タスク定義をTerraform管理から外し、ecspressoで管理することで、以下を達成できる。
- terraform applyによる影響の排除（Q1, Q2-1を解決）
- ecspressoはdeployコマンドを実行する時点のSSMの値をfetchするため、最新イメージに同期ができ、かつ、タグをgitコミットハッシュとできる（Q2-2を解決）