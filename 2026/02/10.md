とある会社で、API GatewayとCognitoを連携して認証基盤を構築する際、
「ヘッダーではなくCookieにHttpOnly属性を付与して認証したい」という要件が出ました。

## Q1
CookieのHttpOnly属性とは何ですか？
なぜ認証のコンテキストで登場するのかを踏まえて説明してください。
### A
CookieのHttpOnly属性とはブラウザのJavaScriptからの操作を制限する属性である。
リフレッシュトークンなどをCookieに保存する場合、操作を制限しセキュアに保つためにHttpOnly属性を付与する文脈で登場する。

## Q2
今回の要件の場合、CognitoのオーソライザーとLambdaオーソライザーのどちらを使うべきでしょうか。理由も含めて答えてください。
### A
Lambdaオーソライザーを使うべき。
CognitoのオーソライザーはヘッダーにIDトークンを付す仕様だが、LambdaオーソライザーはヘッダーだけでなくCookieからも情報を抽出できるため。

## Q3
その場合、フロントエンドから送るトークンはIDトークンとアクセストークンのどちらにすべきでしょうか。理由も添えて答えてください。
### A
アクセストークンにすべき。
IDトークンは認証が目的で、アクセストークンは認可が目的となり、特定のリソースへのアクセス許可は後者を使うのが適切なため。